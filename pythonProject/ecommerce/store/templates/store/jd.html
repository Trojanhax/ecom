<script>
    // Render the PayPal button into #paypal-button-container
    paypal.Buttons({

        // Call your server to set up the transaction
        createOrder: function(data, actions) {
            return actions.order.create({
                purchase_units: [{
                    amount:{
                        value: '0.01'
                    }
                }]
            });
        },

        // Call your server to finalize the transaction
        onApprove: function(data, actions) {
            return actions.order.capture().then(function(details){
                alert('Transaction completed by '+details.payer.name.given_name + '!')

            });
        }

    }).render('#paypal-button-container');
</script>



<script src="https://www.paypal.com/sdk/js?client-id=AUgnII5JJJzApCEFEtC1GytWT2P_qSj7zA1tNaxwq6PZKvsmmERhlpIGMR7nf6ThAsPpBIQWstcOQblQ&currency=USD"></script>
<script>
    var total = '{{order.get_cart_total}}'
    // Render the PayPal button into #paypal-button-container
    paypal.Buttons({

        // Call your server to set up the transaction
        createOrder: function(data, actions) {
            return actions.order.create({
                purchase_units: [{
                    amount:{
                        value: parseFloat(total).toFixed(2)
                    }
                }]
            });
        },

        // Call your server to finalize the transaction
        onApprove: function(data, actions) {
            return actions.order.capture().then(function(details){
                submitFormData(); // This function likely handles some form data

                // Additional step to clear the cart
                clearCart();
            });
        }

    }).render('#paypal-button-container');
</script>